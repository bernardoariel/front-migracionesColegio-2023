"use strict";(self.webpackChunkportalColegio=self.webpackChunkportalColegio||[]).push([[773],{6773:(ce,A,r)=>{r.r(A),r.d(A,{SolicitudModule:()=>ie});var u=r(6895),c=r(4006),_=r(9299),h=r(1209),T=r(9246),x=r(6384),v=r(2905),b=r(6710),S=r(3075),t=r(4650),p=r(5412),M=r(5210),g=r(4859),k=r(4850),d=r(9549),N=r(7392),U=r(6338),y=r(4385),q=r(3238),f=r(8425),O=r(5698);let z=(()=>{class o{constructor(e,i){this.dialogRef=e,this.mensaje=i}ngOnInit(){}onClickNO(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.so),t.Y36(p.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-confirmar"]],decls:7,vars:2,consts:[["mat-dialog-content",""],["mat-dialog-actions",""],["mat-flat-button","",3,"click"],["mat-flat-button","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"button",2),t.NdJ("click",function(){return i.onClickNO()}),t._uU(4,"No"),t.qZA(),t.TgZ(5,"button",3),t._uU(6,"SI"),t.qZA()()),2&e&&(t.xp6(1),t.Oqu(i.mensaje),t.xp6(4),t.Q6J("mat-dialog-close",!0))},dependencies:[g.lW,p.ZT,p.xY,p.H8]}),o})();var L=r(1711),I=r(4144),C=r(9602),w=r(5583);function E(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,"texto")," ")}}function D(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,"texto")," ")}}function Q(o,n){if(1&o&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function H(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,"texto")," ")}}function P(o,n){if(1&o&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.valor),t.xp6(1),t.hij(" ",e.nombre," ")}}function G(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,"texto")," ")}}function j(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,"texto")," ")}}function K(o,n){if(1&o&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.valor),t.xp6(1),t.hij(" ",e.nombre," ")}}function B(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,"texto")," ")}}function $(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,"texto")," ")}}function R(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,"texto")," ")}}let V=(()=>{class o{constructor(e,i,a,l){this.solicitudService=e,this.ordenesService=i,this.dialog=a,this.router=l,this.menorSelected=!1,this.autorizante1Selected=!1,this.today=new Date,this.fechaHoy=this.today.toISOString().slice(0,10),this.rutaActual="",this.mayoriaEdad=21,this.fechaInstrumentoControl=new c.NI(new Date,c.kI.required),this.nroActuacionCertificacionFirmaControl=new c.NI(null,[c.kI.required,c.kI.minLength(3),c.kI.maxLength(40)]),this.opcionesInstrumento=["PAPEL","DIGITAL"],this.tipoInstrumentoControl=new c.NI("PAPEL",c.kI.required),this.opcionesCualquierPais=[{nombre:"SI",valor:!0},{nombre:"NO",valor:!1}],this.tipoCualquierPaisControl=new c.NI(!0,c.kI.required),this.paisesControl=new c.NI({value:"",disabled:!0},[c.kI.required,c.kI.minLength(3),c.kI.maxLength(200)]),this.opcionesMayoriaEdad=[{nombre:"SI",valor:!0},{nombre:"NO",valor:!1}],this.mayoriaEdadControl=new c.NI(!1,c.kI.required),this.fechaDesdeControl=new c.NI(new Date,c.kI.required),this.fechaHastaControl=new c.NI(new Date,c.kI.required),this.ordenForm=new c.cw({fechaInstrumento:this.fechaInstrumentoControl,nroActuacionCertificacionFirma:this.nroActuacionCertificacionFirmaControl,tipoInstrumento:this.tipoInstrumentoControl,tipoCualquierPais:this.tipoCualquierPaisControl,paises:this.paisesControl,mayoriaEdad:this.mayoriaEdadControl,fechaDesde:this.fechaDesdeControl,fechaHasta:this.fechaHastaControl})}ngOnInit(){this.solicitudService.obtenerSolicitud().subscribe({next:e=>{null!==e&&(this.solicitud=e)}}),this.tipoCualquierPaisControl.valueChanges.subscribe(e=>{!0===e?this.paisesControl.disable():this.paisesControl.enable()}),this.mayoriaEdadControl.valueChanges.subscribe(e=>{!0===e?(this.solicitud.menor.fecha_de_nacimiento&&this.calcularMayoriaEdad(this.solicitud.menor.fecha_de_nacimiento),this.fechaHastaControl.disable()):(this.fechaHastaControl.setValue(new Date),this.fechaHastaControl.enable())})}ngOnDestroy(){this.tipoCualquierPaisSubscription&&this.tipoCualquierPaisSubscription.unsubscribe(),this.mayoriaEdadSubscription&&this.mayoriaEdadSubscription.unsubscribe()}calcularMayoriaEdad(e){const i=new Date(e);this.fechaHastaControl.setValue(new Date(i.getFullYear()+this.mayoriaEdad,i.getMonth(),i.getDate()))}consultaDeTerminado(){this.dialog.open(z,{width:"350px",data:"\xbfEst\xe1 seguro que desea terminar la solicitud?"}).afterClosed().subscribe(i=>{i&&(this.agregarSolicitud(),this.router.navigate(["solicitudes","listado"]))})}agregarSolicitud(){const e=this.ordenForm.value;let i={numero_actuacion_notarial_cert_firma:e.nroActuacionCertificacionFirma,cualquier_pais:!0===e.tipoCualquierPais?"y":"n",serie_foja:"A",tipo_foja:0,vigencia_hasta_mayoria_edad:!0===e.mayoriaEdad?"y":"n",fecha_vigencia_desde:e.fechaDesde?e.fechaDesde.toISOString().slice(0,10):this.fechaHoy,fecha_vigencia_hasta:e.fechaHasta?e.fechaHasta.toISOString().slice(0,10):this.fechaHoy,fecha_del_instrumento:e.fechaInstrumento?e.fechaInstrumento.toISOString().slice(0,10):this.fechaHoy,instrumento:"PAPEL"===e.tipoInstrumento?"P":"D",nro_foja:"0",paises_desc:e.paises||""};this.solicitudService.agregarSolicitud(i),this.ordenNueva={...i,autorizante1_id:this.solicitud.autorizante1.id,autorizante2_id:this.solicitud.autorizante2.id,minor_id:this.solicitud.menor.id,notary_id:this.solicitud.escribano.id||null,acompaneantes:this.solicitud.acompaneantes},this.ordenesService.agregarOrden(this.ordenNueva).pipe((0,O.q)(1)).subscribe({next:a=>{}})}validarNumero(e){const i=/^[0-9]$/.test(e.key),a="Backspace"===e.key||"Delete"===e.key,l="Tab"===e.key,m=/^Arrow/.test(e.key);!i&&!a&&!l&&!m&&(!e.ctrlKey&&!e.metaKey||"c"!==e.key)&&(!e.ctrlKey&&!e.metaKey||"v"!==e.key)&&"Home"!==e.key&&"End"!==e.key&&e.preventDefault()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(M.o),t.Y36(L.Z),t.Y36(p.uw),t.Y36(_.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-orden-form"]],decls:74,vars:45,consts:[["autocomplete","off",1,"mt-3",3,"formGroup"],[1,"row"],[1,"col-md-4"],["appearance","fill",1,"w-100"],["matInput","","readonly","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["dp",""],[4,"ngFor","ngForOf"],[1,"col-md-5"],["matInput","",3,"formControl","keydown"],[1,"col-md-3"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6"],["matInput","",3,"formControl","disabled"],["fd",""],["matInput","",3,"matDatepicker","formControl","disabled"],["fh",""],["mat-flat-button","",1,"amarillo",3,"disabled","click"],[3,"value"]],template:function(e,i){if(1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Fecha de Instrumento"),t.qZA(),t._UZ(6,"input",4)(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),t.YNc(10,E,3,4,"mat-error",7),t.ALo(11,"keyvalue"),t.qZA()(),t.TgZ(12,"div",8)(13,"mat-form-field",3)(14,"mat-label"),t._uU(15,"Nro. Actuacion Certificacion de Firma"),t.qZA(),t.TgZ(16,"input",9),t.NdJ("keydown",function(l){return i.validarNumero(l)}),t.qZA(),t.YNc(17,D,3,4,"mat-error",7),t.ALo(18,"keyvalue"),t.qZA()(),t.TgZ(19,"div",10)(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Tipo de Instrumento"),t.qZA(),t.TgZ(23,"mat-select",11),t.YNc(24,Q,2,2,"mat-option",12),t.qZA(),t.YNc(25,H,3,4,"mat-error",7),t.ALo(26,"keyvalue"),t.qZA()()(),t.TgZ(27,"div",1)(28,"div",13)(29,"mat-form-field",3)(30,"mat-label"),t._uU(31,"\xbfCualquier pa\xeds?"),t.qZA(),t.TgZ(32,"mat-select",11),t.YNc(33,P,2,2,"mat-option",12),t.qZA(),t.YNc(34,G,3,4,"mat-error",7),t.ALo(35,"keyvalue"),t.qZA()(),t.TgZ(36,"div",13)(37,"mat-form-field",3)(38,"mat-label"),t._uU(39,"Paises descripcion"),t.qZA(),t._UZ(40,"input",14),t.YNc(41,j,3,4,"mat-error",7),t.ALo(42,"keyvalue"),t.qZA()(),t.TgZ(43,"div",1)(44,"div",2)(45,"mat-form-field",3)(46,"mat-label"),t._uU(47,"\xbfHasta la Mayoria de Edad?"),t.qZA(),t.TgZ(48,"mat-select",11),t.YNc(49,K,2,2,"mat-option",12),t.qZA(),t.YNc(50,B,3,4,"mat-error",7),t.ALo(51,"keyvalue"),t.qZA()(),t.TgZ(52,"div",2)(53,"mat-form-field",3)(54,"mat-label"),t._uU(55,"Fecha desde..."),t.qZA(),t._UZ(56,"input",4)(57,"mat-datepicker-toggle",5)(58,"mat-datepicker",null,15),t.YNc(60,$,3,4,"mat-error",7),t.ALo(61,"keyvalue"),t.qZA()(),t.TgZ(62,"div",2)(63,"mat-form-field",3)(64,"mat-label"),t._uU(65,"Fecha ...hasta"),t.qZA(),t._UZ(66,"input",16)(67,"mat-datepicker-toggle",5)(68,"mat-datepicker",null,17),t.YNc(70,R,3,4,"mat-error",7),t.ALo(71,"keyvalue"),t.qZA()()(),t.TgZ(72,"button",18),t.NdJ("click",function(){return i.consultaDeTerminado()}),t._uU(73,"Agregar Solicitud"),t.qZA()()()),2&e){const a=t.MAs(9),l=t.MAs(59),m=t.MAs(69);t.Q6J("formGroup",i.ordenForm),t.xp6(6),t.Q6J("matDatepicker",a)("formControl",i.fechaInstrumentoControl),t.xp6(1),t.Q6J("for",a),t.xp6(3),t.Q6J("ngForOf",t.lcZ(11,29,i.fechaInstrumentoControl.errors)),t.xp6(6),t.Q6J("formControl",i.nroActuacionCertificacionFirmaControl),t.xp6(1),t.Q6J("ngForOf",t.lcZ(18,31,i.nroActuacionCertificacionFirmaControl.errors)),t.xp6(6),t.Q6J("formControl",i.tipoInstrumentoControl),t.xp6(1),t.Q6J("ngForOf",i.opcionesInstrumento),t.xp6(1),t.Q6J("ngForOf",t.lcZ(26,33,i.tipoInstrumentoControl.errors)),t.xp6(7),t.Q6J("formControl",i.tipoCualquierPaisControl),t.xp6(1),t.Q6J("ngForOf",i.opcionesCualquierPais),t.xp6(1),t.Q6J("ngForOf",t.lcZ(35,35,i.tipoCualquierPaisControl.errors)),t.xp6(6),t.Q6J("formControl",i.paisesControl)("disabled",!0===i.tipoCualquierPaisControl.value),t.xp6(1),t.Q6J("ngForOf",t.lcZ(42,37,i.paisesControl.errors)),t.xp6(7),t.Q6J("formControl",i.mayoriaEdadControl),t.xp6(1),t.Q6J("ngForOf",i.opcionesMayoriaEdad),t.xp6(1),t.Q6J("ngForOf",t.lcZ(51,39,i.mayoriaEdadControl.errors)),t.xp6(6),t.Q6J("matDatepicker",l)("formControl",i.fechaDesdeControl),t.xp6(1),t.Q6J("for",l),t.xp6(3),t.Q6J("ngForOf",t.lcZ(61,41,i.fechaDesdeControl.errors)),t.xp6(6),t.Q6J("matDatepicker",m)("formControl",i.fechaHastaControl)("disabled",!0===i.mayoriaEdadControl.value),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngForOf",t.lcZ(71,43,i.fechaHastaControl.errors)),t.xp6(2),t.Q6J("disabled",i.ordenForm.invalid||i.menorSelected||i.autorizante1Selected)}},dependencies:[u.sg,c._Y,c.Fj,c.JJ,c.JL,c.oH,c.sg,g.lW,d.TO,d.KE,d.hX,d.R9,I.Nt,y.gD,q.ey,C.Mq,C.hl,C.nW,u.Nd,w.K],styles:[".amarillo[_ngcontent-%COMP%]{background-color:#ff0;color:#212529}"]}),o})();const W=["stepper"],X=["menor"];function tt(o,n){1&o&&t._uU(0,"Agregar un Menor")}function et(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.crearMenor())}),t._uU(1,"Crear Nuevo Menor"),t.qZA(),t.TgZ(2,"app-lista-menor",15),t.NdJ("onSeleccionarMenor",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.seleccionarMenor(a))}),t.qZA()}}function ot(o,n){1&o&&t._uU(0,"Agregar un Autorizante")}function it(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.crearPersona("autorizante",1))}),t._uU(1,"Crear nuevo Autorizante"),t.qZA(),t.TgZ(2,"app-lista-autorizante",16),t.NdJ("onSeleccionarAutorizante",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.seleccionarAutorizante1(a))}),t.qZA()}}function nt(o,n){1&o&&t._uU(0,"Agregar un Autorizante")}function at(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.crearPersona("autorizante",2))}),t._uU(1,"Crear nuevo Autorizante"),t.qZA(),t.TgZ(2,"app-lista-autorizante",16),t.NdJ("onSeleccionarAutorizante",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.seleccionarAutorizante2(a))}),t.qZA()}}function rt(o,n){1&o&&t._uU(0,"Modo de Viaje")}function lt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"h3",17),t._uU(1," \xbf El Menor Viaja solo ?"),t.qZA(),t.TgZ(2,"mat-form-field",18)(3,"mat-label"),t._uU(4,"Modo de Viaje"),t.qZA(),t.TgZ(5,"mat-select",19),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.viajaSolo=a)}),t.TgZ(6,"mat-option",20),t._uU(7,"Viaja solo"),t.qZA(),t.TgZ(8,"mat-option",21),t._uU(9,"No Viaja solo"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.viajaSolo)}}function ct(o,n){1&o&&t._uU(0,"Agregar un Acompa\xf1ante")}function st(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.crearPersona("acompaneante",0))}),t._uU(1,"Crear nuevo Acompa\xf1ante"),t.qZA(),t.TgZ(2,"app-lista-acompaneante",22),t.NdJ("onSeleccionarAcompaneante",function(a){t.CHM(e);const l=t.oxw(2);return t.KtG(l.seleccionarAcompaneante(a))}),t.qZA(),t.TgZ(3,"button",23),t._uU(4,"Siguiente Paso"),t.qZA()}}function mt(o,n){1&o&&(t.TgZ(0,"mat-step"),t.YNc(1,ct,1,0,"ng-template",9),t.YNc(2,st,5,0,"ng-template",10),t.qZA())}function ut(o,n){1&o&&t._uU(0,"Finalizar")}function dt(o,n){1&o&&(t.TgZ(0,"mat-step"),t.YNc(1,ut,1,0,"ng-template",9),t._UZ(2,"app-orden-form"),t.qZA())}function pt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item")(1,"p",24)(2,"small"),t._uU(3,"Menor"),t.qZA()(),t._UZ(4,"mat-divider"),t.TgZ(5,"small",25),t._uU(6),t.ALo(7,"uppercase"),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.seleccionarMenor(a.solicitud.menor))}),t.TgZ(10,"mat-icon"),t._uU(11,"edit"),t.qZA()(),t.TgZ(12,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.eliminarMenor())}),t.TgZ(13,"mat-icon"),t._uU(14,"delete"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(6),t.AsE(" ",t.lcZ(7,2,e.solicitud.menor.apellido)," ",t.lcZ(8,4,e.solicitud.menor.nombre)," ")}}function _t(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item")(1,"p",24)(2,"small"),t._uU(3,"1.Aut."),t.qZA()(),t._UZ(4,"mat-divider"),t.TgZ(5,"small",25),t._uU(6),t.ALo(7,"uppercase"),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.seleccionarMenor(a.solicitud.autorizante1))}),t.TgZ(10,"mat-icon"),t._uU(11,"edit"),t.qZA()(),t.TgZ(12,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.eliminarAutorizante(1))}),t.TgZ(13,"mat-icon"),t._uU(14,"delete"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(6),t.AsE(" ",t.lcZ(7,2,e.solicitud.autorizante1.apellido)," ",t.lcZ(8,4,e.solicitud.autorizante1.nombre)," ")}}function ft(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item")(1,"p",24)(2,"small"),t._uU(3,"2.Aut."),t.qZA()(),t._UZ(4,"mat-divider"),t.TgZ(5,"small",25),t._uU(6),t.ALo(7,"uppercase"),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.seleccionarMenor(a.solicitud.autorizante1))}),t.TgZ(10,"mat-icon"),t._uU(11,"edit"),t.qZA()(),t.TgZ(12,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.eliminarAutorizante(2))}),t.TgZ(13,"mat-icon"),t._uU(14,"delete"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(6),t.AsE(" ",t.lcZ(7,2,e.solicitud.autorizante2.apellido)," ",t.lcZ(8,4,e.solicitud.autorizante2.nombre)," ")}}function gt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item")(1,"p",24)(2,"small"),t._uU(3),t.qZA()(),t._UZ(4,"mat-divider"),t.TgZ(5,"small",25),t._uU(6),t.ALo(7,"uppercase"),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"button",28),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.seleccionarAcompaneante(l))}),t.TgZ(10,"mat-icon"),t._uU(11,"edit"),t.qZA()(),t.TgZ(12,"button",29),t.NdJ("click",function(){const l=t.CHM(e).index,m=t.oxw();return t.KtG(m.eliminarAcompanante(l))}),t.TgZ(13,"mat-icon"),t._uU(14,"delete"),t.qZA()()()}if(2&o){const e=n.$implicit,i=n.index;t.xp6(3),t.hij("Acomp. ",i+1,""),t.xp6(3),t.AsE(" ",t.lcZ(7,3,e.apellido)," ",t.lcZ(8,5,e.nombre)," ")}}const ht=function(){return["/dashboard"]};let F=(()=>{class o{constructor(e,i,a){this.dialog=e,this.solicitudService=i,this.existeMenor=!1,this.viajaSolo="si",this.titulo="Solicitud de Servicio",this.solicitudService.obtenerSolicitud().subscribe({next:l=>{null!==l&&(this.solicitud=l,null!==this.solicitud.menor&&(this.existeMenor=!0))}})}ngOnInit(){}crearMenor(){this.dialog.open(b.W,{width:"70vw",data:{modal:{tipoDialogo:"solicitud",accionModal:"agregar"}}}).afterClosed().subscribe(i=>{i&&i.persona&&this.stepper.next()})}seleccionarMenor(e){this.dialog.open(b.W,{width:"70vw",disableClose:!0,data:{menor:e,modal:{tipoDialogo:"solicitud",accionModal:"editar"}}}).afterClosed().subscribe(a=>{this.ListaMenores.cargarMenores()})}crearPersona(e,i){"autorizante"===e?this.dialog.open(h.U,{width:"70vw",data:{modal:{tipoDialogo:"solicitud",accionModal:"agregar",persona:i}}}).afterClosed().subscribe(l=>{l&&l.persona&&this.stepper.next(),this.ListaAutorizantes.cargarMenores()}):this.dialog.open(S.w,{width:"70vw",data:{modal:{tipoDialogo:"solicitud",accionModal:"agregar"}}}).afterClosed().subscribe(l=>{l&&l.persona&&this.stepper.next(),this.ListaAcompaneantes.cargarMenores()})}seleccionarAutorizante1(e){this.dialog.open(h.U,{width:"70vw",disableClose:!0,data:{persona:e,modal:{tipoDialogo:"solicitud",accionModal:"editar",persona:1}}}).afterClosed().subscribe(a=>{this.ListaAutorizantes.cargarMenores()})}seleccionarAutorizante2(e){this.dialog.open(h.U,{width:"70vw",disableClose:!0,data:{persona:e,modal:{tipoDialogo:"solicitud",accionModal:"editar",persona:2}}}).afterClosed().subscribe(a=>{this.ListaAutorizantes.cargarMenores()})}seleccionarAcompaneante(e){this.dialog.open(S.w,{width:"70vw",disableClose:!0,data:{persona:e,modal:{tipoDialogo:"solicitud",accionModal:"editar"}}}).afterClosed().subscribe(a=>{this.ListaAcompaneantes.cargarMenores()})}eliminarMenor(){this.solicitudService.eliminarCampo(this.solicitud,"menor"),this.existeMenor=!1}eliminarAutorizante(e){this.solicitudService.eliminarCampo(this.solicitud,1===e?"autorizante1":"autorizante2")}eliminarAcompanante(e){this.solicitudService.eliminarCampo(this.solicitud,"acompaneantes",e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.uw),t.Y36(M.o),t.Y36(_.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-solicitud"]],viewQuery:function(e,i){if(1&e&&(t.Gf(W,5),t.Gf(X,5),t.Gf(T.E,5),t.Gf(x.E,5),t.Gf(v.E,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.stepper=a.first),t.iGM(a=t.CRH())&&(i.menor=a.first),t.iGM(a=t.CRH())&&(i.ListaAutorizantes=a.first),t.iGM(a=t.CRH())&&(i.ListaMenores=a.first),t.iGM(a=t.CRH())&&(i.ListaAcompaneantes=a.first)}},decls:32,vars:9,consts:[[1,"row","mt-4"],[1,"col-md-8"],[1,"col","float-end"],["mat-button","","color","warn","mat-flat-button","",3,"routerLink"],[1,"pt-0"],[1,"row"],[1,"col-md-9"],["orientation","vertical"],["stepper",""],["matStepLabel",""],["matStepContent",""],[4,"ngIf"],[1,"col-md-3"],[4,"ngFor","ngForOf"],["mat-button","",1,"float-end","amarillo",3,"click"],[3,"onSeleccionarMenor"],[3,"onSeleccionarAutorizante"],[1,"mt-3"],["appearance","fill"],[3,"ngModel","ngModelChange"],["value","si"],["value","no"],[3,"onSeleccionarAcompaneante"],["mat-button","","matStepperNext",""],[1,"mt-p","pt-0","mb-0","mt-0"],[1,"text-warning","ms-3"],["matTooltip","Editar menor de la solicitud","mat-icon-button","","color","basic",3,"click"],["matTooltip","Sacar menor de la solicitud","mat-icon-button","","color","warn",3,"click"],["matTooltip","Editar acompa\xf1ante de la solicitud","mat-icon-button","","color","basic",3,"click"],["matTooltip","Eliminar acompa\xf1ante de la solicitud","mat-icon-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6,"Cancelar"),t.qZA()()(),t._UZ(7,"hr",4),t.TgZ(8,"div",5)(9,"div",6)(10,"mat-stepper",7,8)(12,"mat-step"),t.YNc(13,tt,1,0,"ng-template",9),t.YNc(14,et,3,0,"ng-template",10),t.qZA(),t.TgZ(15,"mat-step"),t.YNc(16,ot,1,0,"ng-template",9),t.YNc(17,it,3,0,"ng-template",10),t.qZA(),t.TgZ(18,"mat-step"),t.YNc(19,nt,1,0,"ng-template",9),t.YNc(20,at,3,0,"ng-template",10),t.qZA(),t.TgZ(21,"mat-step"),t.YNc(22,rt,1,0,"ng-template",9),t.YNc(23,lt,10,1,"ng-template",10),t.qZA(),t.YNc(24,mt,3,0,"mat-step",11),t.YNc(25,dt,3,0,"mat-step",11),t.qZA()(),t.TgZ(26,"div",12)(27,"mat-list"),t.YNc(28,pt,15,6,"mat-list-item",11),t.YNc(29,_t,15,6,"mat-list-item",11),t.YNc(30,ft,15,6,"mat-list-item",11),t.YNc(31,gt,15,7,"mat-list-item",13),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(i.titulo),t.xp6(2),t.Q6J("routerLink",t.DdM(8,ht)),t.xp6(19),t.Q6J("ngIf","no"==i.viajaSolo),t.xp6(1),t.Q6J("ngIf",i.existeMenor),t.xp6(3),t.Q6J("ngIf",i.solicitud.menor.id),t.xp6(1),t.Q6J("ngIf",i.solicitud.autorizante1.id),t.xp6(1),t.Q6J("ngIf",i.solicitud.autorizante2.id),t.xp6(1),t.Q6J("ngForOf",i.solicitud.acompaneantes))},dependencies:[u.sg,u.O5,_.rH,g.lW,k.d,d.KE,d.hX,N.Hw,U.i$,U.Tg,y.gD,q.ey,f.C0,f.VY,f.Vq,f.Ic,f.BY,x.E,T.E,c.JJ,c.On,v.E,V,u.gd,u.rS],styles:[".amarillo[_ngcontent-%COMP%]{background-color:#ff0;color:#212529}"]}),o})();var J=r(8739),Z=r(6308),s=r(7155),Ct=r(6894),Zt=r(5416),At=r(4826),Tt=r(1572);function xt(o,n){1&o&&(t.TgZ(0,"th",23),t._uU(1,"Escribano"),t.qZA())}function vt(o,n){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.AsE(" ",e.apellidoescribano," ",e.nombreescribano," ")}}function bt(o,n){1&o&&(t.TgZ(0,"th",23),t._uU(1,"F.de Instrumento"),t.qZA())}function St(o,n){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.fecha_del_instrumento," ")}}function Mt(o,n){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Nombre/s"),t.qZA())}function Nt(o,n){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.HOy(" ",e.apellido," ",e.segundo_apellido," ,",e.nombre," ",e.otros_nombre," ")}}function Ut(o,n){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Nro.Act. Notarial"),t.qZA())}function yt(o,n){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.numero_actuacion_notarial_cert_firma," ")}}function qt(o,n){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Aprobacion"),t.qZA())}function Lt(o,n){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.aprobacion?e.aprobacion:""," ")}}function It(o,n){1&o&&t._UZ(0,"th",25)}function Ft(o,n){1&o&&t._UZ(0,"td",24)}function Jt(o,n){1&o&&t._UZ(0,"th",25)}function Yt(o,n){1&o&&t._UZ(0,"mat-spinner",30)}function kt(o,n){1&o&&(t.ynx(0),t._uU(1,"Autorizar"),t.BQk())}function Ot(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,l=t.oxw();return t.KtG(l.autorizarSoap(a.id))}),t.YNc(1,Yt,1,0,"mat-spinner",28),t.YNc(2,kt,2,0,"ng-container",29),t.TgZ(3,"mat-icon"),t._uU(4,"playlist_add_check"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function zt(o,n){if(1&o&&(t.TgZ(0,"td",24),t.YNc(1,Ot,5,2,"button",26),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!e.aprobacion)}}function wt(o,n){1&o&&t._UZ(0,"th",25)}function Et(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,l=t.oxw();return t.KtG(l.crearPdf(a.id))}),t._uU(1," PDF "),t.qZA()}}function Dt(o,n){if(1&o&&(t.TgZ(0,"td",24),t.YNc(1,Et,2,0,"button",26),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.aprobacion)}}function Qt(o,n){1&o&&t._UZ(0,"th",25)}function Ht(o,n){1&o&&t._UZ(0,"td",24)}function Pt(o,n){1&o&&t._UZ(0,"th",25)}function Gt(o,n){1&o&&t._UZ(0,"td",24)}function jt(o,n){1&o&&t._UZ(0,"tr",31)}function Kt(o,n){1&o&&t._UZ(0,"tr",32)}const Bt=function(){return[5,10,20]},$t=[{path:"",children:[{path:"listado",component:(()=>{class o{constructor(e,i,a,l,m){this.ordenesService=e,this.router=i,this.soapService=a,this.pdfService=l,this.escribanosService=m,this.loading=!1,this.displayedColumns=["apellidoescribano","fecha_del_instrumento","apellido","numero_actuacion_notarial_cert_firma","aprobacion","editar","pdf","autorizar","boton1","boton2"],this.ordenes=[],this.userId=Number(localStorage.getItem("userId"))}ngOnInit(){this.cargarOrdenes()}crearPdf(e){this.pdfService.imprimirPDF(e)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}cargarOrdenes(){this.ordenesService.getOrdenesFormateado().subscribe(e=>{this.ordenes=e.filter(1!==this.userId?i=>i.notary_id===this.userId:i=>i.minor_id!=this.userId),this.dataSource=new s.by(this.ordenes),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}eliminarOrden(e){this.ordenesService.eliminarOrden(e).subscribe(i=>{this.cargarOrdenes()})}duplicar(e){this.ordenesService.duplicateOrdenId(e).subscribe(i=>{this.cargarOrdenes()})}autorizarSoap(e){this.loading=!0,this.soapService.aprobarSoap(e).subscribe(i=>{this.cargarOrdenes(),this.loading=!1},i=>{this.loading=!1},()=>{this.cargarOrdenes(),this.loading=!1})}editarSolicitud(e){this.router.navigate(["/precargas/precarga/"+e])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(L.Z),t.Y36(_.F0),t.Y36(Ct.c),t.Y36(Zt.F),t.Y36(At.i))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-lista"]],viewQuery:function(e,i){if(1&e&&(t.Gf(J.NW,7),t.Gf(Z.YE,7)),2&e){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},decls:46,vars:6,consts:[[2,"margin","10px"],[1,"row"],[1,"col"],["appearance","standard"],["matInput","","placeholder","Filtro",3,"keyup"],["input",""],["mat-table","","matSort","",1,"mat-elevation-z8",2,"width","100%",3,"dataSource"],["matColumnDef","apellidoescribano"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha_del_instrumento"],["matColumnDef","apellido"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","numero_actuacion_notarial_cert_firma"],["matColumnDef","aprobacion"],["matColumnDef","editar"],["matColumnDef","autorizar"],["matColumnDef","pdf"],["matColumnDef","boton1"],["matColumnDef","boton2"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["class","ms-3 float-left","mat-flat-button","","matStepperNext","","color","accent",3,"click",4,"ngIf"],["mat-flat-button","","matStepperNext","","color","accent",1,"ms-3","float-left",3,"click"],["diameter","20",4,"ngIf"],[4,"ngIf"],["diameter","20"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Listado de Ordenes"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",1)(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),t._uU(8,"Filtro"),t.qZA(),t.TgZ(9,"input",4,5),t.NdJ("keyup",function(l){return i.applyFilter(l)}),t.qZA()()(),t._UZ(11,"div",2),t.qZA(),t.TgZ(12,"table",6),t.ynx(13,7),t.YNc(14,xt,2,0,"th",8),t.YNc(15,vt,2,2,"td",9),t.BQk(),t.ynx(16,10),t.YNc(17,bt,2,0,"th",8),t.YNc(18,St,2,1,"td",9),t.BQk(),t.ynx(19,11),t.YNc(20,Mt,2,0,"th",12),t.YNc(21,Nt,2,4,"td",9),t.BQk(),t.ynx(22,13),t.YNc(23,Ut,2,0,"th",12),t.YNc(24,yt,2,1,"td",9),t.BQk(),t.ynx(25,14),t.YNc(26,qt,2,0,"th",12),t.YNc(27,Lt,2,1,"td",9),t.BQk(),t.ynx(28,15),t.YNc(29,It,1,0,"th",12),t.YNc(30,Ft,1,0,"td",9),t.BQk(),t.ynx(31,16),t.YNc(32,Jt,1,0,"th",12),t.YNc(33,zt,2,1,"td",9),t.BQk(),t.ynx(34,17),t.YNc(35,wt,1,0,"th",12),t.YNc(36,Dt,2,1,"td",9),t.BQk(),t.ynx(37,18),t.YNc(38,Qt,1,0,"th",12),t.YNc(39,Ht,1,0,"td",9),t.BQk(),t.ynx(40,19),t.YNc(41,Pt,1,0,"th",12),t.YNc(42,Gt,1,0,"td",9),t.BQk(),t.YNc(43,jt,1,0,"tr",20),t.YNc(44,Kt,1,0,"tr",21),t.qZA(),t._UZ(45,"mat-paginator",22),t.qZA()),2&e&&(t.xp6(12),t.Q6J("dataSource",i.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(5,Bt)))},dependencies:[u.O5,g.lW,d.KE,d.hX,N.Hw,I.Nt,J.NW,Z.YE,Z.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,f.Ic,Tt.Ou]}),o})(),pathMatch:"full"},{path:"nueva",component:F,pathMatch:"full"},{path:"editar/:id",component:F,pathMatch:"full"}]}];let Rt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.Bz.forChild($t),_.Bz]}),o})();var Y=r(710),Vt=r(4351),Wt=r(7317),Xt=r(6142),te=r(7163),ee=r(5503);let oe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,c.UX,Y.h,ee.D]}),o})(),ie=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,Rt,Y.h,Vt.MenorModule,Wt.AutorizanteModule,c.u5,Xt.AcompaneanteModule,te.OrdenesModule,oe]}),o})()}}]);