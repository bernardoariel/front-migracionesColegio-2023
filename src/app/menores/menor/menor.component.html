<!-- Cabecera -->
<h1>
  {{(menor.id)? 'Editando ': 'Nuevo Menor:'}}  {{ menor.apellido}} {{ menor.nombre }}
</h1>

<mat-divider class="pb-2 pt-2"></mat-divider>

<ng-container *ngIf="!precarga;else elseTemplate">
  <!-- Form -->
  <div class="containter" id="form">

    <!-- fila 1  Nombre y Apellido-->
    <div class="row">
      <!-- nombre -->
      <div class="col-md-3">

        <mat-form-field>
          <mat-label>Apellido</mat-label>
          <input
            type="text"
            id="apellido"
            [(ngModel)]="menor.apellido"
            matInput
            required
          >
        </mat-form-field>

      </div>

      <div class="col-md-3">

        <mat-form-field>
          <mat-label>Segundo Apellido</mat-label>
          <input
            type="text"
            id="segundo_apellido"
            [(ngModel)]="menor.segundo_apellido"
            matInput
            required
          >
        </mat-form-field>

      </div>

      <div class="col-md-3">

        <mat-form-field>
          <mat-label>Nombre</mat-label>
          <input
            type="text"
            id="nombre"
            [(ngModel)]="menor.nombre"
            matInput
            required
          >
        </mat-form-field>

      </div>

      <div class="col-md-3">

        <mat-form-field>
          <mat-label>Otros Nombres</mat-label>
          <input
            type="text"
            id="otros_nombres"
            [(ngModel)]="menor.otros_nombres"
            matInput
            required
          >
        </mat-form-field>

      </div>

    </div>
    <!-- fila 2  email y matricula-->
    <div class="row">
      <!-- email -->
      <div class="col-md-3">

        <!-- <mat-form-field >
          <mat-label>Nacionalidad</mat-label>
          <input
            type="text"
            id="nacionalidad"
            [(ngModel)]="menor.nacionalidad"
            matInput
            required
        >
        </mat-form-field> -->
        <mat-form-field>
          <mat-label>Nacionalidad</mat-label>
          <mat-select [(ngModel)]="menor.nationality_id">
            <mat-option *ngFor="let nacionalidad of nacionalidades"
              [value]="nacionalidad.id"
            >
            {{ nacionalidad.nombre}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <!-- tipo_documento -->
      <div class="col-md-3">

        <mat-form-field >
          <mat-label>Tipo de Documento</mat-label>
          <mat-select [(ngModel)]="menor.type_document_id">
            <mat-option *ngFor="let tipoDocumento of tipoDocumentos"
              [value]="tipoDocumento.id"

            >
            {{ tipoDocumento.descripcion}}
            </mat-option>
          </mat-select>

        </mat-form-field>

      </div>
      <!-- emisor_documento -->
      <div class="col-md-3">

        <mat-form-field >
          <mat-label>Emisor de Documento</mat-label>
          <mat-select [(ngModel)]="menor.issuer_document_id">
            <mat-option *ngFor="let tipoDocumento of tipoDocumentos"
              [value]="tipoDocumento.id"

            >
            {{ tipoDocumento.descripcion}}
            </mat-option>
          </mat-select>

        </mat-form-field>

      </div>
      <!-- emisor_documento -->
      <div class="col-md-3">

        <mat-form-field >
          <mat-label>Numero de Documento</mat-label>
          <input
            type="text"
            id="numero_de_documento"
            [(ngModel)]="menor.numero_de_documento"
            matInput
            required
          >
        </mat-form-field>

      </div>

    </div>

    <div class="row">
      <!-- email -->
      <div class="col-md-4">

        <!-- <mat-form-field >
          <mat-label>Fecha de Nacimiento</mat-label>
          <input
            type="text"
            id="fecha_de_nacimiento"
            [(ngModel)]="menor.fecha_de_nacimiento"
            matInput
            required
        >
        </mat-form-field> -->
      <!--   <mat-form-field >
          <mat-label>Choose a date</mat-label>
          <input matInput [matDatepicker]="picker">
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker" style="display:inline;width: 200px;"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field> -->
        <mat-form-field>
          <mat-label>Fecha de Nacimiento</mat-label>
          <input matInput [matDatepicker]="dp" [(ngModel)]="menor.fecha_de_nacimiento" readonly>
          <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
          <mat-datepicker #dp></mat-datepicker>
        </mat-form-field>

  <!-- https://www.concretepage.com/angular-material/angular-material-datepicker-format -->
        <!--  <input matInput [matDatepicker]="picker">
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker> -->

        <!-- #enddocregion toggle -->

      <!--  <mat-form-field>
          <mat-label>Choose a date</mat-label>
          <input matInput [matDatepicker]="myDatapicker">
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="myDatapicker"
          [(ngModel)]="menor.fecha_de_nacimiento"
          style="display:inline"
          ></mat-datepicker-toggle>
          <mat-datepicker #myDatapicker></mat-datepicker>
        </mat-form-field> -->
      </div>
      <!-- tipo_documento -->
      <div class="col-md-3">

        <mat-form-field >
          <mat-label>Sexo</mat-label>
          <mat-select [(ngModel)]="menor.sex_id">
            <mat-option *ngFor="let itemSexo of sexo"
              [value]="itemSexo.id"

            >
            {{ itemSexo.descripcion}}
            </mat-option>
          </mat-select>

        </mat-form-field>

      </div>
      <!-- emisor_documento -->
      <div class="col-md-6">

        <mat-form-field class="text-area-width">
          <mat-label>Domicilio</mat-label>

          <textarea matInput
                    cols="50" rows="1" placeholder=""
                    [(ngModel)]="menor.domicilio"
                    required>
          </textarea>
        </mat-form-field>

      </div>


    </div>

    <!-- boton enviar -->
    <div  class="row mt-5 ">

      <div class="col">
        <button
        class="float-start"
        mat-raised-button
        color="secondary"
        (click)="cancelar()"
        >
          Cancelar
        </button>
      </div>
      <div class="col">
        <button
          class="float-end"
          mat-raised-button
          color="primary"
          (click)="guardar()">
          Guardar
        </button>
      </div>

          <!-- <div *ngIf="menor.id;">
            <button
              mat-raised-button
              color="warn"
              (click)="eliminarEscribano(menor.id)">Eliminar</button>
          </div> -->

    </div>

  </div>
  <!-- cierra el div form -->
</ng-container>

<ng-template #elseTemplate>
  <!-- Form -->
  <div class="containter" id="form">

    <!-- fila 1 Apellido y Segundo Apellido-->
    <div class="row">
      <!-- apllido -->
      <div class="col-md-6">

        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Apellido</mat-label>
          <input
            type="text"
            id="apellido"
            [(ngModel)]="menor.apellido"
            matInput
            required
          >
        </mat-form-field>

      </div>
      <!-- segundo apellido -->
      <div class="col-md-6">

        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Segundo Apellido</mat-label>
          <input
            type="text"
            id="segundo_apellido"
            [(ngModel)]="menor.segundo_apellido"
            matInput

          >
        </mat-form-field>

      </div>

    </div>

    <!-- fila 2 Nombre y otro Nombre-->
    <div class="row">
      <!-- nombre -->
      <div class="col">

        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Nombre</mat-label>
          <input
            type="text"
            id="nombre"
            [(ngModel)]="menor.nombre"
            matInput
            required
          >
        </mat-form-field>

      </div>
      <!-- otro nombre -->
      <div class="col">

        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Otros Nombres</mat-label>
          <input
            type="text"
            id="otros_nombres"
            [(ngModel)]="menor.otros_nombres"
            matInput

          >
        </mat-form-field>

      </div>

    </div>

    <!-- fila 3 Nacionalidad y tipo Documento -->
    <div class="row">
      <!-- Nacionalidad -->
      <div class="col-md-6">

        <mat-form-field appearance="fill" class="w-100">

          <mat-label>Nacionalidad</mat-label>

          <mat-select [(ngModel)]="menor.nationality_id">

            <mat-option *ngFor="let nacionalidad of nacionalidades"
              [value]="nacionalidad.id">

            {{ nacionalidad.nombre}}

            </mat-option>

          </mat-select>

        </mat-form-field>

      </div>
      <!-- tipo_documento -->
      <div class="col-md-6">

        <mat-form-field appearance="fill" class="w-100">

          <mat-label>Tipo de Documento</mat-label>

          <mat-select [(ngModel)]="menor.type_document_id">

            <mat-option *ngFor="let tipoDocumento of tipoDocumentos"
              [value]="tipoDocumento.id">

            {{ tipoDocumento.descripcion}}

            </mat-option>

          </mat-select>

        </mat-form-field>

      </div>

    </div>

    <!-- fila 4 Emisor Documento y tipo Documento -->
    <div class="row">
      <!-- emisor_documento -->
      <div class="col-md-6">

        <mat-form-field appearance="fill" class="w-100">

          <mat-label>Emisor de Documento</mat-label>

          <mat-select [(ngModel)]="menor.issuer_document_id">

            <mat-option *ngFor="let emisorDocumento of emisorDocumentos"
              [value]="emisorDocumento.id">

              {{ emisorDocumento.descripcion }}

            </mat-option>

          </mat-select>

        </mat-form-field>

      </div>

      <!-- Numero de Documento -->
      <div class="col-md-6">

        <mat-form-field appearance="fill" class="w-100">

          <mat-label>Numero de Documento</mat-label>

          <input
            type="text"
            id="numero_de_documento"
            [(ngModel)]="menor.numero_de_documento"
            matInput
            required>

        </mat-form-field>

      </div>

    </div>

    <!-- fila 5 Fecha de Nacimiento y Sexo -->
    <div class="row">

      <!-- Fecha de Nacimiento -->
      <div class="col-md-6">

        <mat-form-field appearance="fill" class="w-100">

          <mat-label>Fecha de Nacimiento</mat-label>

          <input matInput [matDatepicker]="dp" [(ngModel)]="menor.fecha_de_nacimiento" readonly>

          <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>

          <mat-datepicker #dp></mat-datepicker>

        </mat-form-field>

      </div>

      <!-- Sexo -->
      <div class="col-md-6">

        <mat-form-field appearance="fill" class="w-100">

          <mat-label>Sexo</mat-label>

          <mat-select [(ngModel)]="menor.sex_id">

            <mat-option *ngFor="let itemSexo of sexo"
              [value]="itemSexo.id">

              {{ itemSexo.descripcion}}

            </mat-option>

          </mat-select>

        </mat-form-field>

      </div>

    </div>

    <!-- fila 6 Domicilio -->
    <div class="row">
      <!-- Domicilio -->
      <div class="col-md-12">

        <mat-form-field appearance="fill" class="w-100">

          <mat-label>Domicilio</mat-label>

          <textarea matInput
                    cols="50" rows="1" placeholder=""
                    [(ngModel)]="menor.domicilio"
                    required>
          </textarea>

        </mat-form-field>

      </div>

    </div>

    <!-- fila 7 Botones -->
    <div class="row">

      <div class="col-md-8"></div>
      <!-- botones -->
      <div class="col-md-4">
        <button class="float-end w-100" mat-raised-button color="primary" (click)="guardar()">
          Guardar
        </button>

      </div>

    </div>

  </div>
  <!-- cierra el div form -->
</ng-template>
